dockerize-debian:
  build:
    image: ushahidi/debian:stretch-dockerize
    context: dockerize
    dockerfile: debian.Dockerfile

dockerize-alpine:
  build:
    image: ushahidi/alpine:3.6-dockerize
    context: dockerize
    dockerfile: alpine.Dockerfile

node-ci:
  build:
    image: ushahidi/node-ci
    context: node-ci
    dockerfile: Dockerfile
  volumes:
    - ./node-ci/goss.yaml:/tmp/goss.yaml
  volumes_from:
    - goss

php-ci:
  build:
    image: ushahidi/php-ci
    context: php-ci
    dockerfile: Dockerfile
  volumes:
    - ./php-ci/goss.yaml:/tmp/goss.yaml
  volumes_from:
    - goss

php-fpm-nginx:
  build:
    image: ushahidi/php-fpm-nginx
    context: php-fpm-nginx
    dockerfile: Dockerfile
  volumes:
    - ./php-fpm-nginx/goss.yaml:/tmp/goss.yaml
  volumes_from:
    - goss

goss:
  build:
    dockerfile_path: goss.Dockerfile
